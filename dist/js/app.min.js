"use strict";angular.module("evaluon",["ui.router","LocalStorageModule","ngMaterial","evaluon.auth","evaluon.entity","evaluon.evaluator","evaluon.institution","evaluon.templates"]).config(function($stateProvider,$logProvider,$urlRouterProvider,$locationProvider,localStorageServiceProvider,authorizationProvider){$logProvider.debugEnabled(!0),$urlRouterProvider.otherwise("/404"),$locationProvider.html5Mode(!0),$stateProvider.state("public",{"abstract":!0,template:"<ui-view/>",data:{access:authorizationProvider.$get().accessLevels.public}}).state("public.404",{url:"/404",templateUrl:"views/errors/404.tpl.html"}),localStorageServiceProvider.setPrefix("dashboardEvaluon").setStorageCookie(30,"/evaluon/dashboard").setNotify(!0,!0)}).run(function(Auth,access,localStorageService){localStorageService.get(CryptoJS.SHA1(access.tokens.client))||Auth.clientCredentials().then(function(token){localStorageService.set(CryptoJS.SHA1(access.tokens.client).toString(),token)})}),angular.module("evaluon").constant("access",{client:{grant_type:"client_credentials",client_id:"administrator",client_secret:"kv0Ls8xoIFPdE2GXMK5fodQsAEBV5GzzINZOA0NX99E="},tokens:{client:"dlav4218f",user:"ial83lcv"}});var apiRouter={url:{protocol:"http",host:"evaluon.boolinc.co"},route:function(path){var url=this.url;return"{0}://{1}/{2}".format(url.protocol,url.host,path)},id:function(url,id){return"{0}/{1}".format(url,id)}};angular.module("evaluon").constant("api",{token:apiRouter.route("auth/token"),user:apiRouter.route("user")}),angular.module("evaluon.templates",[]).run(["$templateCache",function($templateCache){$templateCache.put("views/auth/login.tpl.html",'<div layout="horizontal" layout-padding layout-align="center" >\n    <div flex="30">\n        <md-toolbar class="md-whiteframe-z3">\n            <div class="md-toolbar-tools">\n                <span>Evaluon</span>\n                <span flex>Login</span>\n            </div>\n        </md-toolbar>\n        <md-content class="md-padding md-whiteframe-z5" md-theme="light-blue-dark" layout-padding layout-align="center">\n            <form layout="vertical" layout-align="center center" ng-submit="login($event)">\n                <md-text-float label="Correo" type="email" ng-model="user.email" ng-required="true"> </md-text-float>\n                <md-text-float label="Contraseña" type="password" ng-model="user.password" ng-required="true"> </md-text-float>\n                <md-button type="submit" aria-label="Iniciar Sesion" md-theme="light-blue-dark" class="md-primary">\n                    Iniciar Sesion\n                </md-button>\n            </form>\n        </md-content>\n    </div>\n</div>\n'),$templateCache.put("views/errors/404.tpl.html",'<div layout="horizontal" layout-padding layout-align="center" >\n    <div flex="30">\n        <md-content class="md-padding" layout-padding layout-align="center">\n            <h1 layout="vertical" layout-padding layout-align="center center">\n                404\n            </h1>\n        </md-content>\n    </div>\n</div>\n'),$templateCache.put("views/evaluator/evaluator.tpl.html",'<div layout="horizontal" flex>\n    <md-sidenav class="md-sidenav-left md-whiteframe-z2" component-id="left" is-locked-open="$media(\'md\')"  layout="vertical">\n       <md-toolbar>\n         <h1 class="md-toolbar-tools">Evaluador</h1>\n       </md-toolbar>\n       <md-content flex layout="vertical" class="md-default-theme" style="height: 700px;">\n         <md-button>\n           Grupos\n         </md-button>\n       </md-content>\n    </md-sidenav>\n  <div layout="vertical" layout-fill>\n    <md-toolbar>\n       <div class="md-toolbar-tools">\n        <span>Evaluon</span>\n        <span flex>Login</span>\n       </div>\n    </md-toolbar>\n    <md-content ui-view>\n\n    </md-content>\n  </div>\n</div>\n'),$templateCache.put("views/evaluator/home.tpl.html",""),$templateCache.put("views/institution/home.tpl.html",""),$templateCache.put("views/institution/institution.tpl.html",'<div layout="horizontal" flex>\n    <md-sidenav class="md-sidenav-left md-whiteframe-z2" component-id="left" is-locked-open="$media(\'md\')"  layout="vertical">\n       <md-toolbar>\n         <h1 class="md-toolbar-tools">Institución</h1>\n       </md-toolbar>\n       <md-content flex layout="vertical" class="md-default-theme" style="height: 700px;">\n         <md-button>\n           Evaluadores\n         </md-button>\n       </md-content>\n    </md-sidenav>\n  <div layout="vertical" layout-fill>\n    <md-toolbar>\n       <div class="md-toolbar-tools">\n        <span>Evaluon</span>\n        <span flex>Login</span>\n       </div>\n    </md-toolbar>\n    <md-content ui-view>\n\n    </md-content>\n  </div>\n</div>\n'),$templateCache.put("views/entity/entity.tpl.html",'<div layout="horizontal" flex>\n    <md-sidenav class="md-sidenav-left md-whiteframe-z2" component-id="left" is-locked-open="$media(\'md\')"  layout="vertical">\n       <md-toolbar>\n         <h1 class="md-toolbar-tools">INCI</h1>\n       </md-toolbar>\n       <md-content flex layout="vertical" class="md-default-theme" style="height: 700px;">\n         <md-button>\n           Instituciones\n         </md-button>\n       </md-content>\n    </md-sidenav>\n  <div layout="vertical" layout-fill>\n    <md-toolbar>\n       <div class="md-toolbar-tools">\n        <span>Evaluon</span>\n        <span flex>Login</span>\n       </div>\n    </md-toolbar>\n    <md-content ui-view>\n\n    </md-content>\n  </div>\n</div>\n'),$templateCache.put("views/entity/home.tpl.html","")}]),angular.module("evaluon.auth",["ui.router"]).config(function($stateProvider,authorizationProvider){$stateProvider.state("anon",{"abstract":!0,template:"<ui-view/>",data:{access:authorizationProvider.$get().accessLevels.public}}).state("anon.auth",{url:"/",params:["redirected","toState"],controller:"AuthCtrl"}).state("anon.login",{url:"/login",params:["redirected","toState"],templateUrl:"views/auth/login.tpl.html",controller:"LoginCtrl"})}),angular.module("evaluon.entity",["ui.router"]).config(function($stateProvider,authorizationProvider){$stateProvider.state("entity",{"abstract":!0,url:"/entity",templateUrl:"views/entity/entity.tpl.html",controller:"EntityCtrl",data:{access:authorizationProvider.$get().accessLevels.entity}}).state("entity.home",{url:"/home",templateUrl:"views/entity/home.tpl.html"})}),angular.module("evaluon.evaluator",["ui.router"]).config(function($stateProvider,authorizationProvider){$stateProvider.state("evaluator",{"abstract":!0,url:"/evaluator",templateUrl:"views/evaluator/evaluator.tpl.html",controller:"EvaluatorCtrl",data:{access:authorizationProvider.$get().accessLevels.evaluator}}).state("evaluator.home",{url:"/home",templateUrl:"views/evaluator/home.tpl.html"})}),angular.module("evaluon.institution",["ui.router"]).config(function($stateProvider,authorizationProvider){$stateProvider.state("institution",{"abstract":!0,url:"/institution",templateUrl:"views/institution/institution.tpl.html",controller:"InstitutionCtrl",data:{access:authorizationProvider.$get().accessLevels.evaluator}}).state("institution.home",{url:"/home",templateUrl:"views/institution/home.tpl.html"})}),angular.module("evaluon.auth").controller("AuthCtrl",function($state,access,localStorageService){$state.go(localStorageService.get(CryptoJS.SHA1(access.tokens.client))?"evaluator.home":"anon.login")}),angular.module("evaluon.auth").controller("LoginCtrl",function($scope,Auth,access,localStorageService){$scope.user={email:"nombre@correo.co",password:"contraseña"},$scope.login=function(event){event.preventDefault();var token=localStorageService.get(CryptoJS.SHA1(access.tokens.client).toString());Auth.password(token.token_type,token.access_token,$scope.user.email,$scope.user.password).then(function(token){localStorageService.set(CryptoJS.SHA1(access.tokens.user).toString(),token)}).catch(function(error){console.error(error)})}}),angular.module("evaluon.auth").factory("Auth",function(api,access,$http){return{clientCredentials:function(){return $http({method:"post",url:api.token,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:$.param(access.client)}).then(function(data){return data.data})},password:function(tokenType,accessToken,username,password){return console.log(CryptoJS),$http({method:"post",url:api.token,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"{0} {1}".format(tokenType,accessToken)},data:$.param({grant_type:"password",username:username,password:CryptoJS.SHA1(password).toString()})}).then(function(data){return data.data})}}});var userRoles={"public":1,evaluator:2,institution:4,entity:8};angular.module("evaluon.auth").provider("authorization",function(){this.$get=function(){return{userRoles:userRoles,accessLevels:{"public":userRoles.public|userRoles.evaluator|userRoles.institution|userRoles.entity,anon:userRoles.public,evaluator:userRoles.evaluator,institution:userRoles.institution,entity:userRoles.entity}}}}),angular.module("evaluon.auth").factory("User",function(){return{}}),angular.module("evaluon.entity").controller("EntityCtrl",function(){}),angular.module("evaluon.evaluator").controller("EvaluatorCtrl",function(){}),angular.module("evaluon.institution").controller("InstitutionCtrl",function(){});